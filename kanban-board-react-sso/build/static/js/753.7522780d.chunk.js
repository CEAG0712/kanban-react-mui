"use strict";(self.webpackChunkkanban_board_react=self.webpackChunkkanban_board_react||[]).push([[753],{3250:(e,t,n)=>{n.d(t,{A:()=>r});n(5043);const r=n.p+"static/media/google-logo.5867462c.f29684e92f90b6991518aaaca214748a.svg"},5734:(e,t,n)=>{n.d(t,{A:()=>i});n(5043);var r=n(1906),o=n(6240),a=n(579);const i=e=>{let{label:t,onClick:n,startIcon:i,variant:s="contained",color:l="primary",sx:c,...d}=e;const u=(0,o.A)();return(0,a.jsx)(r.A,{variant:s,startIcon:i||null,onClick:n,sx:{mt:2,mb:4,width:"170px",fontSize:"12px",color:"contained"===s?"white":u.palette[l].main,backgroundColor:"contained"===s?u.palette[l].main:"transparent",borderColor:"outlined"===s?u.palette[l].main:"transparent","&:hover":{backgroundColor:"contained"===s?u.palette[l].dark:"transparent",borderColor:"outlined"===s?u.palette[l].dark:"transparent"},...c},...d,children:t})}},2373:(e,t,n)=>{n.d(t,{A:()=>l});n(5043);var r=n(5865),o=n(4535),a=n(7353),i=n(579);const s=(0,o.Ay)(r.A)((e=>{let{theme:t}=e;return{fontSize:"1.25rem",fontWeight:"bold",color:"#555555",textAlign:"center",marginBottom:t.spacing(2),textTransform:"uppercase",letterSpacing:"0.05em",fontFamily:"Raleway"}})),l=e=>{let{title:t,subtitle:n}=e;return(0,i.jsxs)(a.A,{textAlign:"center",mb:4,children:[(0,i.jsx)(s,{children:t}),n&&(0,i.jsx)(r.A,{variant:"body1",color:"text.secondary",children:n})]})}},2447:(e,t,n)=>{n.d(t,{h:()=>l});var r=n(5043),o=n(3003),a=n(3216),i=n(1282),s=n(2946);const l=()=>{const e=(0,o.wA)(),t=(0,a.Zp)(),n=(0,r.useRef)(null),l=(0,r.useRef)(null),[c,d]=(0,r.useState)(!1),u=(0,r.useCallback)((n=>{const r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AUTH_URL||"https://kanban-sso-mui-backend.azurewebsites.net";if(n.origin===r){switch(n.data.type){case"AUTH_SUCCESS":i.m.success("Login Successful"),e((0,s.TV)(n.data.data)),t("/dashboard"),d(!1);break;case"AUTH_ERROR":i.m.error("Authentication failed"),d(!1)}l.current&&(clearTimeout(l.current),l.current=null)}}),[e,t]),p=(0,r.useCallback)((()=>{n.current&&(n.current.close(),n.current=null,d(!1),i.m.error("Authentication timed out"))}),[]);(0,r.useEffect)((()=>(window.addEventListener("message",u),()=>{window.removeEventListener("message",u),l.current&&(clearTimeout(l.current),l.current=null)})),[u]);return{continueWithGoogle:(0,r.useCallback)((()=>{d(!0),l.current&&clearTimeout(l.current);const e=window.screenX+(window.outerWidth-500)/2,t=window.screenY+(window.outerHeight-500)/2;n.current&&n.current.close();try{if(n.current=window.open(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AUTH_URL||"http://localhost:8000"}/api/auth/google`,"Google Login",`width=500,height=500,left=${e},top=${t},scrollbars=yes,status=1`),!n.current||n.current.closed)return d(!1),void i.m.error("Please allow popups for this website");l.current=setTimeout(p,3e5)}catch(r){d(!1),i.m.error("Unable to open Google login window"),console.error("Google login error:",r)}}),[p]),isAuthenticating:c}}},3753:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var r=n(5043),o=n(8200),a=n(1282),i=n(3003),s=n(3216),l=n(2946),c=n(7353),d=n(5865),u=n(6494),p=n(2110),m=n(5795),h=n(5734),x=n(3250),A=n(4164),g=n(2373),f=n(2447),v=n(579);const C=function(){const[e,t]=(0,r.useState)({email:"",password:""}),{continueWithGoogle:n,isAuthenticating:C}=(0,f.h)(),b=(0,s.Zp)(),w=(0,i.wA)(),[y,S]=(0,r.useState)(""),[j,_]=(0,r.useState)(!1),{email:T,password:R}=e,E=n=>{t({...e,[n.target.name]:n.target.value})};return(0,v.jsx)(c.A,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:2},children:(0,v.jsx)(c.A,{sx:{width:{xs:"100%",sm:"90%",md:"500px"},maxWidth:"600px"},children:(0,v.jsx)(p.A,{variant:"outlined",sx:{borderRadius:2,boxShadow:1},children:(0,v.jsxs)(u.A,{sx:{padding:3},children:[(0,v.jsxs)(c.A,{textAlign:"center",mb:4,children:[(0,v.jsx)(g.A,{title:"Personal Kanban Tool"}),(0,v.jsx)("p",{children:"Log in to continue"})]}),(0,v.jsx)(m.A,{label:"Email Address",variant:"outlined",type:"email",fullWidth:!0,sx:{mb:2},name:"email",value:T,onChange:E}),(0,v.jsx)(m.A,{label:"Password",variant:"outlined",type:"password",fullWidth:!0,sx:{mb:2},name:"password",value:R,onChange:E}),(0,v.jsx)(c.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:(0,v.jsx)(h.A,{label:"Continue",fullWidth:!0,sx:{width:"500px",mt:3,mb:2},onClick:async t=>{if(t.preventDefault(),S(""),T&&R)try{_(!0);const t=await o.y.login(e);a.m.success("Login Successful"),w((0,l.TV)(t.data.data)),b("/projects")}catch(y){var n,r,i,s;a.m.error((null===(n=y.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Login failed. Please try again."),S((null===(i=y.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)||"Login failed. Please try again.")}finally{_(!1)}else a.m.error("All fields are required")}})}),(0,v.jsx)(d.A,{variant:"body2",sx:{color:"gray",textAlign:"center",mb:2},children:"Or continue with:"}),(0,v.jsxs)(c.A,{display:"flex",flexDirection:"column",alignItems:"center",gap:1,children:[(0,v.jsx)(h.A,{label:"Google",variant:"outlined",fullWidth:!0,startIcon:(0,v.jsx)("img",{src:x.A,alt:"Google",style:{width:"23px"}}),sx:{color:"#555555",borderColor:"#cccccc",width:"100%",marginBottom:"0",justifyContent:"flex-center",display:"flex"},onClick:n}),(0,v.jsx)(h.A,{label:"Github",variant:"outlined",startIcon:(0,v.jsx)("img",{src:A,alt:"Github",style:{width:"39px"}}),sx:{color:"#555555",width:"100%",borderColor:"#cccccc",justifyContent:"flex-center",display:"flex"}})]}),(0,v.jsxs)(c.A,{display:"flex",justifyContent:"center",mt:3,gap:2,children:[(0,v.jsx)(d.A,{variant:"body2",sx:{cursor:"pointer",color:"#0052CC",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"Can't log in?"}),(0,v.jsx)(d.A,{variant:"body2",sx:{cursor:"pointer",color:"#0052CC",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"Create an account"})]})]})})})})}},8200:(e,t,n)=>{n.d(t,{y:()=>o});var r=n(2237);const o={register:e=>r.A.post("/users/auth/create",e),login:e=>r.A.post("/users/auth/login",e)}},2110:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(5043),o=n(8387),a=n(8610),i=n(4535),s=n(8206),l=n(1596),c=n(2532),d=n(2372);function u(e){return(0,d.Ay)("MuiCard",e)}(0,c.A)("MuiCard",["root"]);var p=n(579);const m=(0,i.Ay)(l.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),h=r.forwardRef((function(e,t){const n=(0,s.b)({props:e,name:"MuiCard"}),{className:r,raised:i=!1,...l}=n,c={...n,raised:i},d=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},u,t)})(c);return(0,p.jsx)(m,{className:(0,o.A)(d.root,r),elevation:i?8:void 0,ref:t,ownerState:c,...l})}))},6494:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(5043),o=n(8387),a=n(8610),i=n(4535),s=n(8206),l=n(2532),c=n(2372);function d(e){return(0,c.Ay)("MuiCardContent",e)}(0,l.A)("MuiCardContent",["root"]);var u=n(579);const p=(0,i.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),m=r.forwardRef((function(e,t){const n=(0,s.b)({props:e,name:"MuiCardContent"}),{className:r,component:i="div",...l}=n,c={...n,component:i},m=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},d,t)})(c);return(0,u.jsx)(p,{as:i,className:(0,o.A)(m.root,r),ownerState:c,ref:t,...l})}))},4164:(e,t,n)=>{e.exports=n.p+"static/media/aawpwnuou.3a66912071d27551b47e.webp"}}]);
//# sourceMappingURL=753.7522780d.chunk.js.map